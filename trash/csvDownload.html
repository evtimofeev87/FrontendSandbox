<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a class="link" href="" target="_blank">экспорт</a>
    <script>
      let link = document.querySelector('a.link');

      const rows = [
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
        ['name1', 'city1', 'some other info'],
        ['name2', 'city2', 'more info'],
      ];

      let csvContent = 'data:text/csv;charset=utf-8,' + rows.map((e) => e.join(',')).join('\n');

      let encodedUri = encodeURI(csvContent);

      link.href = encodedUri;
      link.setAttribute("download", "my_data.csv");
      // window.open(encodedUri);
    </script>
  </body>
</html>
